<%@ page language="java" import="java.util.*" pageEncoding="utf-8"%><% String path = request.getContextPath(); String basePath = request.getScheme() + "://" + request.getServerName() + ":" + request.getServerPort() + path + "/";%><% out.clear(); %><!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html> <head> <title>使用ajax進行非同步驗證</title> <meta http-equiv="content-type" content="text/html;charset=utf-8" /> <style type="text/css"> body{ font-size:12px;} table{ font-size:12px;} table input{ width:120px;} table em{ color:#ff0000;} #body{ margin-left:200px; margin-top:220px;} </style> <script type="text/javascript" src="Jquery/jquery-1.7.2.min.js"></script> <script language="javascript" type="text/javascript"> $(document).ready(function(){ $("#username").focus(); }); var hadoop = function(){ // 非同步驗證使用者是否重複 if($.trim($("#username").val())==""){ $("#message").html("使用者名稱不能為空"); $("#username").focus(); }else{ $.ajax({ type: "post", url: "dumplicate.do", data: "username=" + $("#username").val(), success: function(message){ $("#message").html(message); } }); } }; </script> </head> <body> <div id="body"> <form action="#" method="post"> <table> <tr> <td>使用者名稱:</td><td><input type="text" id="username" name="username" onblur="hadoop()" /> </td> <td> <em id="message"></em> </td> </tr> <tr> <td>密碼:</td><td colspan="2"><input type="text" /></td> </tr> </table> </form> </div> </body></html>